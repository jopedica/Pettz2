
{% macro flash() %}
  {% set msgs = get_flashed_messages(with_categories=true) %}
  {% if msgs %}
    <div class="flash">
      {% for cat, msg in msgs %}
        <div class="alert alert-{{ cat }}">{{ msg }}</div>
      {% endfor %}
    </div>
  {% endif %}
{% endmacro %}

{% macro field(name, label, value='', type='text', required=false, placeholder='') %}
<div class="form-row">
  <label for="{{ name }}">{{ label }}</label>
  <input id="{{ name }}" name="{{ name }}" type="{{ type }}"
         value="{{ value|e }}"
         {% if required %}required{% endif %}
         placeholder="{{ placeholder }}">
</div>
{% endmacro %}

{% macro number(name, label, value='', step='0.01', min='0') %}
<div class="form-row">
  <label for="{{ name }}">{{ label }}</label>
  <input id="{{ name }}" name="{{ name }}" type="number"
         step="{{ step }}" min="{{ min }}" value="{{ value }}">
</div>
{% endmacro %}

{% macro textarea(name, label, value='', rows=5) %}
<div class="form-row">
  <label for="{{ name }}">{{ label }}</label>
  <textarea id="{{ name }}" name="{{ name }}" rows="{{ rows }}">{{ value|e }}</textarea>
</div>
{% endmacro %}

{% macro checkbox(name, label, checked=false) %}
<div class="form-row">
  <label class="chk">
    <input type="checkbox" name="{{ name }}" {% if checked %}checked{% endif %}>
    <span>{{ label }}</span>
  </label>
</div>
{% endmacro %}

{% macro form_actions(cancel_url, save_label='Salvar') %}
<div class="form-actions">
  <button class="btn" type="submit">{{ save_label }}</button>
  <a class="btn btn--ghost" href="{{ cancel_url }}">Cancelar</a>
</div>
{% endmacro %}

{% macro badge_active(flag) %}
  {% if flag %}
    <span class="pill pill--ok">Ativo</span>
  {% else %}
    <span class="pill pill--muted">Inativo</span>
  {% endif %}
{% endmacro %}
